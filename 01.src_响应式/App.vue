<template>
  <h1>{{ obj }}</h1>
  <button @click="changeName">ä¿®æ”¹åå­—</button>

  <!-- <h1>{{msgReactive}}</h1>
  <input type="text" v-model="msgReactive">
  <button @click="changeMsg">ä¿®æ”¹ä¿¡æ¯</button> -->
</template>

<script setup lang="ts">
import { isRef, ref, Ref, shallowRef, ShallowRef, reactive, triggerRef } from 'vue'

// æµ‹è¯• shallowRef ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹çš„æƒ…å†µã€okã€‘
/* let msg:string = 'èŠ±èŠ±çš„ä¸–ç•Œ'
// console.log(msg);
let msgReactive:ShallowRef<string> = shallowRef(msg)
function changeMsg() {
  msgReactive.value += 'ğŸ¤¡'
  console.log(msg, msgReactive);
  
} */



// æµ‹è¯• shallowRef ç”¨äºå¯¹è±¡çš„æƒ…å†µã€å“åº”å¼å¤±æ•ˆã€‘
/* const obj:ShallowRef<object> = shallowRef({ name: 'å“ªå’' })
console.log('++++', obj);
function changeName() {
  obj.value.name = 'æµ‘å…ƒå¤©å°Š'
  // console.log('aa');
  triggerRef(obj) // å¼ºåˆ¶è§¦å‘æ›´æ–°è§†å›¾
} */

// å¦‚æœæ˜¯æ™®é€š ref|reactive
const obj = reactive({ name: 'å“ªå’' })
// const obj:Ref<string> = ref('çº¢è‰²è­¦æˆ’')
console.log('++++', obj, 'name' in obj);
function changeName() {
  obj.name = 'å“ˆå“ˆå“ˆ'
  // console.log('aa');
}

</script>

<style>

</style>